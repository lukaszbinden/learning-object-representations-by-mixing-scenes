% note: it skipped the 10th NN for space reasons (cf. in output PDF)
% see Experiments/Examples_visual_similarity_detection_algorithm.txt
% data src: C:\Users\lukaszbinden\git\learning-object-representations-by-mixing-scenes\doc\visual_sim_det_algo_ex
\begin{figure}[h!]
     \centering
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t1/ref_000000267288_1.jpg}
         \caption*{$q_1$}
         \label{fig:vis_sim_img_ex_1_1}
     \end{subfigure}  
     \rulesep
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t1/000000575891_1.jpg}
         \caption*{3792}
         \label{fig:vis_sim_img_ex_1_2}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t1/000000278881_1.jpg}
         \caption*{3804}
         \label{fig:vis_sim_img_ex_1_3}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t1/000000216712_1.jpg}
         \caption*{4505}         
         \label{fig:vis_sim_img_ex_1_4}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t1/000000033024_1.jpg}
         \caption*{5250}         
         \label{fig:vis_sim_img_ex_1_5}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t1/000000103777_1.jpg}
         \caption*{5514}         
         \label{fig:vis_sim_img_ex_1_6}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t1/000000016004_1.jpg}
         \caption*{5629}     
         \label{fig:vis_sim_img_ex_1_7}
     \end{subfigure}  
     % new row
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t1/000000126143_1.jpg}
         \caption*{5709}         
         \label{fig:vis_sim_img_ex_1_8}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t1/000000511497_1.jpg}
         \caption*{5897}                  
         \label{fig:vis_sim_img_ex_1_9}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t1/000000095838_1.jpg}
         \caption*{6536}
         \label{fig:vis_sim_img_ex_1_10}
     \end{subfigure}  
     \hfill
    % new row ---------------------------------------------------
    \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t1/ref_000000267288_1.jpg}
         \caption*{$q_4$}
         \label{fig:vis_sim_img_ex_2_1}
     \end{subfigure}  
     \rulesep
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t4/000000495831_1.jpg}
         \caption*{15299}
         \label{fig:vis_sim_img_ex_2_2}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t4/000000267074_1.jpg}
         \caption*{15514}
         \label{fig:vis_sim_img_ex_2_3}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t4/000000074442_1.jpg}
         \caption*{16006}         
         \label{fig:vis_sim_img_ex_2_4}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t4/000000023554_1.jpg}
         \caption*{18728}         
         \label{fig:vis_sim_img_ex_2_5}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t4/000000224574_1.jpg}
         \caption*{20750}         
         \label{fig:vis_sim_img_ex_2_6}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t4/000000326825_1.jpg}
         \caption*{20844}     
         \label{fig:vis_sim_img_ex_2_7}
     \end{subfigure}  
     % new row
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t4/000000147514_1.jpg}
         \caption*{21348}         
         \label{fig:vis_sim_img_ex_2_8}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t4/000000014794_1.jpg}
         \caption*{21600}                  
         \label{fig:vis_sim_img_ex_2_9}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000267288_1/t4/000000146778_1.jpg}
         \caption*{21857}
         \label{fig:vis_sim_img_ex_2_10}
     \end{subfigure}  
    % new row ---------------------------------------------------
    \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000397787_1/t2/ref_000000397787_1.jpg}
         \caption*{$q_2$}
         \label{fig:vis_sim_img_ex_3_1}
     \end{subfigure}  
     \rulesep
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000397787_1/t2/000000380528_1.jpg}
         \caption*{14809}
         \label{fig:vis_sim_img_ex_3_2}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000397787_1/t2/000000105903_1.jpg}
         \caption*{16038}
         \label{fig:vis_sim_img_ex_3_3}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000397787_1/t2/000000398842_1.jpg}
         \caption*{16135}         
         \label{fig:vis_sim_img_ex_3_4}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000397787_1/t2/000000314779_1.jpg}
         \caption*{16464}         
         \label{fig:vis_sim_img_ex_3_5}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000397787_1/t2/000000570101_1.jpg}
         \caption*{17196}         
         \label{fig:vis_sim_img_ex_3_6}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000397787_1/t2/000000432297_1.jpg}
         \caption*{19229}     
         \label{fig:vis_sim_img_ex_3_7}
     \end{subfigure}  
     % new row
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000397787_1/t2/000000483247_1.jpg}
         \caption*{19973}         
         \label{fig:vis_sim_img_ex_3_8}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000397787_1/t2/000000117721_1.jpg}
         \caption*{20369}                  
         \label{fig:vis_sim_img_ex_3_9}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000397787_1/t2/000000374628_1.jpg}
         \caption*{20472}
         \label{fig:vis_sim_img_ex_3_10}
     \end{subfigure}  
     % new row ---------------------------------------------------
    \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000076081_1/t4/ref_000000076081_1.jpg}
         \caption*{$q_4$}
         \label{fig:vis_sim_img_ex_4_1}
     \end{subfigure}  
     \rulesep
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000076081_1/t4/000000465922_1.jpg}
         \caption*{19002}
         \label{fig:vis_sim_img_ex_4_2}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000076081_1/t4/000000337976_1.jpg}
         \caption*{20908}
         \label{fig:vis_sim_img_ex_4_3}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000076081_1/t4/000000492550_1.jpg}
         \caption*{20911}         
         \label{fig:vis_sim_img_ex_4_4}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000076081_1/t4/000000298547_1.jpg}
         \caption*{21168}         
         \label{fig:vis_sim_img_ex_4_5}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000076081_1/t4/000000306475_1.jpg}
         \caption*{21456}         
         \label{fig:vis_sim_img_ex_4_6}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000076081_1/t4/000000451513_1.jpg}
         \caption*{23960}     
         \label{fig:vis_sim_img_ex_4_7}
     \end{subfigure}  
     % new row
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000076081_1/t4/000000075299_1.jpg}
         \caption*{24558}         
         \label{fig:vis_sim_img_ex_4_8}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000076081_1/t4/000000485740_1.jpg}
         \caption*{25036}                  
         \label{fig:vis_sim_img_ex_4_9}
     \end{subfigure}  
     \hfill
     \begin{subfigure}[b]{0.09\textwidth}
         \centering
         \includegraphics[width=\textwidth]{images/vis_sim_det_algo/ref_000000076081_1/t4/000000165742_1.jpg}
         \caption*{25179}
         \label{fig:vis_sim_img_ex_4_10}
     \end{subfigure}  
     % \vspace{1pt}
    \caption{Example results of the visual similarity detection algorithm. Leftmost column is the reference image. $q_i$ denotes the quadrant for which the 9 nearest neighbor images in ascending order of L2 distance are shown on the right. The numbers denote the L2 distance of the reference image quadrant $q_i$ and the respective quadrant of the image. All images belong to the MS COCO training dataset. Best viewed on screen with zoom.}
    % evtl. add q3 for image ref_000000076081_1
    \label{fig:results_vis_sim_det_algorithm}
\end{figure}